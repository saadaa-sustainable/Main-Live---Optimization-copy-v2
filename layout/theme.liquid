<!doctype html>

<html
  class="no-js"
  lang="{{ request.locale.iso_code }}"
  dir="{% render 'direction' %}"
>
  <head>

 <!-- Start of Async Affiniv Code -->
 <script type="text/javascript">
 (function (w, d, s, o, f, js, fjs) {
     w[o] = w[o] || function () { 
         (w[o].q = w[o].q || []).push(arguments) 
     };
     js = d.createElement(s), fjs = d.getElementsByTagName(s)[0];
     js.id = o; 
     js.src = f; 
     js.async = 1; 
     fjs.parentNode.insertBefore(js, fjs);
 }(window, document, 'script', '_affiniv', 'https://affiniv.s3.amazonaws.com/js/widget.js'));
 
 _affiniv('init', { 
     companyId: '5997284636811215795'
 });
 </script>
 <!-- End of Async Affiniv Code -->

{% render 'link-preview-cards' %}
    <!-- Preconnect critical domains -->
    <link rel="preconnect" href="https://cdn-4.convertexperiments.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn-4.convertexperiments.com">


    <script>
      {% for item in cart.items %}
       {% if item.title contains '100% Cotton' %}
                   sessionStorage.setItem("specific_colletion",true);
         {% break %}
         {% endif %}
       {% endfor %}
       if(!sessionStorage.getItem("specific_colletion")){
         if(window.location.href.includes("/collections/100-cotton-everyday-pants")){
           sessionStorage.setItem("specific_colletion",true);
         }
       }
        if(sessionStorage.getItem("specific_colletion"))
             {
             if(window.location.href.includes("/collections/cotton-trousers")){
               window.location.href = 'https://saadaa.in/collections/100-cotton-everyday-pants';
             }
             }
    </script>


    

    
    <!-- begin Convert Experiences code -->
    <script type="text/javascript">
      // fill in the values for the variables that you want to use
      var _conv_page_type = "";
      var _conv_category_id = "";
      var _conv_category_name = "";
      var _conv_product_sku = "";
      var _conv_product_name = "";
      var _conv_product_price = "";
      var _conv_customer_id = "";
      var _conv_custom_v1 = "";
      var _conv_custom_v2 = "";
      var _conv_custom_v3 = "";
      var _conv_custom_v4 = "";
      <!--end of editing here-->
    </script>
    <script
      type="text/javascript"
      src="//cdn-4.convertexperiments.com/v1/js/1002628-10025677.js?environment=production"
    ></script>
    <!-- end Convert Experiences code -->
    {% comment %}
          <!-- START: Maker Optimize -->
          <script>window.maker_optimize=window.maker_optimize||{};</script>
          <script src="https://embed.maker.co/optimize.js?id=fcDcF_WgA" async></script>
          <style>.maker-anti-flicker { opacity: 0 !important}</style>
          <script>(function(){document.documentElement.classList.add("maker-anti-flicker");setTimeout(function(){document.documentElement.classList.remove("maker-anti-flicker")},5e3)})();</script>
          <!-- END: Maker Optimize -->

      <script src="https://cdn.intelligems.io/b3811d534f40.js"></script>
    {% endcomment %}

    <script>
      window.Shopify = window.Shopify || {theme: {id: {{ theme.id }}, role: '{{ theme.role }}' } };
      window._template = {
      directory: "{{ template.directory }}",
      name: "{{ template.name }}",
      suffix: "{{ template.suffix }}"
      };
    </script>
    <script src="https://pdp.gokwik.co/kwikpass/kwikpass-core-functions.js" defer></script>


    <script type="importmap">
      {%- comment -%}On Safari 16.3 and lower, a polyfill is used to load importmap{%- endcomment -%}
      {
      "imports": {
                                              "vendor": "{{ 'vendor.min.js' | asset_url }}",
      "theme": "{{ 'theme.js' | asset_url }}",
      "photoswipe": "{{ 'photoswipe.min.js' | asset_url }}"
      }
                                          }
    </script>

    <script type="module" src="{{ 'vendor.min.js' | asset_url }}"></script>
    {% if request.page_type == 'index' %}
      <style>
        html {
          --header-height: 0 !important;
        }
      </style>
    {% endif %}
    <script>
      window.SLIDECART_DISABLE = true
    </script>
    {% if request.page_type == 'product' %}
      <script
        src="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/js/swiffy-slider.min.js"
        crossorigin="anonymous"
        defer
      ></script>
      <link
        href="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/css/swiffy-slider.min.css"
        rel="stylesheet"
        crossorigin="anonymous"
      >
    {% endif %}

    <meta charset="utf-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, maximum-scale=5.0"
    >
    {% include 'kiwiSizing' %}
    <title>
      {% if page_title == blank %}
        {{ shop.name }}
      {% else %}
        {{ page_title -}}
        {%- if current_page != 1 %}
          &ndash; {{ 'general.page' | t: page: current_page -}}
        {%- endif %}
      {% endif %}
    </title>
    {% comment %}
      <script src="{{ 'gokwik-sidecart.js' | asset_url }}" defer></script>
    {% endcomment %}
    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}

    <link rel="canonical" href="{{ canonical_url }}">

    {%- if settings.favicon -%}
      <link rel="shortcut icon" href="{{ settings.favicon | image_url: width: 96 }}">
      <link rel="apple-touch-icon" href="{{ settings.favicon | image_url: width: 180 }}">
    {%- endif -%}

    {%- comment -%}Few prefetch to increase performance on commonly used third-parties{%- endcomment -%}
  
    <link rel="dns-prefetch" href="https://productreviews.shopifycdn.com">

    {%- unless settings.heading_font.system? -%}
      <link
        rel="preload"
        href="{{ settings.heading_font | font_url }}"
        as="font"
        type="font/woff2"
        crossorigin
      >
    {%- endunless -%}

    {%- unless settings.text_font.system? -%}
      <link
        rel="preload"
        href="{{ settings.text_font | font_url }}"
        as="font"
        type="font/woff2"
        crossorigin
      >
    {%- endunless -%}

    {%- render 'social-meta-tags' -%}
    {%- render 'microdata-schema' -%}
    {%- render 'css-variables' -%}
    {%- render 'js-variables' -%}

    {%- if request.page_type == 'gift_card' -%}
      <script src="{{ 'vendor/qrcode.js' | shopify_asset_url }}" defer></script>
    {%- endif -%}

    <script async src="{{ 'es-module-shims.min.js' | asset_url }}" defer></script>


    {{ content_for_header }}

    {{- 'theme.css' | asset_url | stylesheet_tag: preload: true -}}
    {% render 'gokwik' %}

    {{ shop.metafields.loox.global_html_head }}

    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "aan7ebjsbh");
    </script>

    <!-- Global site tag (gtag.js) - Google Ads:AW-464888547 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-464888547"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

      gtag('config', 'AW-464888547', {'send_page_view': false,'allow_enhanced_conversions': true});
      
    </script>   
  </head>

  {% liquid
    assign features_class = ''

    if settings.show_button_transition
      assign features_class = features_class | append: 'features--button-transition '
    endif

    if settings.show_image_zoom_on_hover
      assign features_class = features_class | append: 'features--zoom-image '
    endif

    if settings.show_page_transition
      assign features_class = features_class | append: 'features--page-transition '
    endif
  %}

  <body class="{{ features_class }}">
    <style>
      html body #slidecarthq .slidecarthq .header {
        order: -9;
      }

      html body #slidecarthq .slidecarthq .announcements {
        order: -8;
      }

      html body #slidecarthq .slidecarthq .rewards {
        order: -7;
        margin-top: 0;
      }
      body {
        top: 0 !important;
      }
    </style>

    {%- render 'shadow-dom-templates' -%}
    {% render 'loader' %}

    <loading-bar class="loading-bar" aria-hidden="true"></loading-bar>
    <a
      href="#main"
      allow-hash-change
      class="skip-to-content sr-only"
    >
      {{- 'general.accessibility.skip_to_content' | t -}}
    </a>

    {%- if request.page_type != 'password' -%}
      {%- sections 'header-group' -%}
      {%- sections 'overlay-group' -%}
    {%- endif -%}

    {% if template == 'index' or template contains 'page' and page.handle == 'men-showcase' %}
      <div class="fittora-personaliser-container">
        <div
          id="fittora-personaliser-root"
          data-storedomain="{{ shop.permanent_domain }}"
          data-theme="{{ section.settings.theme }}"
          data-variant="{{ section.settings.variant }}"
          data-cta-label="{{ section.settings.cta_label }}"
          data-bg="{{ block.settings.background }}"
          style="display: block !important;"
        ></div>
        <script src="https://www.fittora.app/widget-personaliser/widget.js" async defer></script>
      </div>
    {% endif %}
    
    <main id="main" class="anchor">
      {{ content_for_layout }}
    </main>

    {%- if request.page_type != 'password' -%}
      {%- sections 'footer-group' -%}
    {%- endif -%}

    {{ shop.metafields.loox.global_html_body }}
    <script type="module" src="{{ 'theme.js' | asset_url }}"></script>

    {% include 'kwikpass' %}
    {% render 'returnprime_js' %}
    {% if request.page_type == 'product' %}
      <script>
          function makeXhr(method, url, data, domain) {
            var xhttp = new XMLHttpRequest();
            xhttp.open(method, url, true);
            xhttp.setRequestHeader('Content-type', 'application/json');
            xhttp.setRequestHeader('x-shopify-shop-domain', domain);
            xhttp.onload = function() {
              var status = xhttp.status;
              var response = xhttp.response;
            };
            xhttp.send(
              data
        ? JSON.stringify(data)
        : null
            );
          }

            function isValidPhoneNumber(info){
              const regex = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
             return regex.test(info) && info[0] !== '0';
            }

          async function notifyOnWhatsApp() {
            let info = document.getElementById('notify__text');
            let productId = info.getAttribute('data-productId');
            let variantId = info.getAttribute('data-variantId');
            let proudctTitle = info.getAttribute('data-productTitle');
            let currentVariantId = document.getElementsByName("id")[0].value
            let nationalCode = document.getElementById('countryCode');
            let domain = window.location.hostname;
            let elementNotification = document.querySelector(".notification_wrapper")
            let notifyError = document.querySelector(".notify_me_error_text")
            let elementNotificationText = elementNotification.querySelector("p")

            if (info.value && isValidPhoneNumber(info.value)) {
              const data = {
        'phone': nationalCode.value.toString() + info.value,
        'variant_id': currentVariantId,
        'product_id': productId,
        'product_title': proudctTitle,
        'variant_url': window.location.href
              }
              notifyError.textContent = "";
              makeXhr('POST', 'https://iy08ni8pq5.execute-api.ap-south-1.amazonaws.com/api/notify/api', data, domain);
        document.querySelector('.notify-me').classList.remove('popup')
         document.body.style.overflow = 'scroll';
              elementNotificationText.textContent = "we will notify you when your item comes in stock";
              elementNotification.classList.add("popup");
              setTimeout(()=>{
         elementNotification.classList.remove("popup")
              },3000)

            } else {
              notifyError.textContent = "Please provide valid phone number";
          }
          }
      </script>
    {% endif %}

    <!-- =========================================Footer========================================= -->

    <!-- google dynamic remarketing tag for theme.liquid -->
    {% if template contains 'product' %}
      <script type="text/javascript">
        var json_product = {{ product | json }};
      </script>
      <script>
        var ecomm_prodid=[];
        for(var i=0;i<json_product.variants.length;i++)
          ecomm_prodid.push('shopify_IN_{{product.id}}_'+json_product.variants[i].id);
      </script>
      <script type="text/javascript">
        var google_tag_params = {
          ecomm_prodid: ecomm_prodid,
          ecomm_pagetype: 'product',
          ecomm_totalvalue: parseFloat('{{ product.price | money_without_currency | remove: ","}}')
        };
      </script>
    {% elsif template contains 'collection' %}
      <script type="text/javascript">
        var google_tag_params = {
          ecomm_pagetype: 'category'
        };
      </script>
    {% elsif template contains 'cart' %}
      <script type="text/javascript">
        var id = new Array();
        {% for item in cart.items %}
        id.push('shopify_IN_{{item.product.id}}_{{item.variant.id}}');
         {% endfor %}

         var google_tag_params = {
           ecomm_prodid: id,
           ecomm_pagetype: 'cart',
           ecomm_totalvalue: parseFloat('{{ cart.total_price | money_without_currency | remove: ","}}')
         };
      </script>
    {% elsif template contains 'search' %}
      <script type="text/javascript">
        var google_tag_params = {
          ecomm_pagetype: 'searchresults'
        };
      </script>
    {% elsif template contains 'index' %}
      <script type="text/javascript">
        var google_tag_params = {
          ecomm_pagetype: 'home'
        };
      </script>
    {% else %}
      <script type="text/javascript">
        var google_tag_params = {
          ecomm_pagetype: 'other'
        };
      </script>
    {% endif %}
    <!--
      <script>
        if (!window.hasSentPageView) {
        window.hasSentPageView = true;
        gtag('event', 'page_view', {'send_to': 'AW-464888547',
                                    'ecomm_prodid':window.google_tag_params.ecomm_prodid,
                                    'ecomm_pagetype': window.google_tag_params.ecomm_pagetype,
                                    'ecomm_totalvalue':window.google_tag_params.ecomm_totalvalue
                                   });
        }
      </script>
    -->

    <script>
                    const newLi = document.createElement('li');
        newLi.style.opacity = '1';
        newLi.style.transform = 'translateY(0px)';

        const newLink = document.createElement('a');
        newLink.className = 'header-sidebar__linklist-button h6';
        newLink.textContent = '100% COTTON EVERYDAY PANT';
        newLink.href = '/collections/100-cotton-everyday-pants';
        newLi.appendChild(newLink);
              const newLi2 = newLi.cloneNode(true);
             let navLinkUL =  document.querySelector(".header-sidebar__scroller .header-sidebar__linklist");
             let SubnavLinkUL =  document.querySelector("#header-panel-5 .header-sidebar__linklist");
              let allCottonPant = document.querySelectorAll('[data-collection="EVERYDAY COTTON PANTS"]');
                if(sessionStorage.getItem("specific_colletion"))
              {
                if(allCottonPant.length > 0)
                {
                  allCottonPant.forEach(ele=>ele.remove());
                }

                 navLinkUL.insertAdjacentElement('afterbegin', newLi);
                 SubnavLinkUL.insertAdjacentElement('afterbegin', newLi2);

              }
              console.log(sessionStorage);
              console.log("localStorage",localStorage);

             // Listen for user login event
      document.addEventListener('user-loggedin', async (event) => {
          // Wait a brief moment to ensure localStorage is updated
          setTimeout(async () => {
              // const result = await getOrderCount();
              // if (result) {
              //     console.log('Order count after login:', result);
              // }
            console.log(event)

          }, 1000);
      });
    </script>

   {% render 'mobile-fixed-menus' %}

    {% render 'returnprime-secondDropdown' %}
    {% render 'returnprime_exchange_sub_reason' %}
    
    <!-- begin order-cancel code -->
    {%- if template contains 'customers/account' or template contains 'customers/order' -%}
      {{- 'codify-order-cancel.css' | asset_url | stylesheet_tag: preload: true -}}
      <script src="{{ 'codify-order-cancel.js' | asset_url }}" defer></script>
      {% render 'codify-order-cancel' %}      
    {%- endif -%}
    <!-- end order-cancel code -->

  </body>
</html>
